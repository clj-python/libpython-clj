<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>libpython-clj.python documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">libpython-clj</span> <span class="project-version">2.00-alpha-1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="Usage.html"><div class="inner"><span>Usage</span></div></a></li><li class="depth-1 "><a href="design.html"><div class="inner"><span>LibPython-CLJ Design Notes</span></div></a></li><li class="depth-1 "><a href="new-to-clojure.html"><div class="inner"><span>So Many Parenthesis!</span></div></a></li><li class="depth-1 "><a href="scopes-and-gc.html"><div class="inner"><span>Scopes And Garbage Collection</span></div></a></li><li class="depth-1 "><a href="slicing.html"><div class="inner"><span>Slicing And Slices</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="libpython-clj.python.html"><div class="inner"><span>libpython-clj.python</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="libpython-clj.python.html#var-.24."><div class="inner"><span>$.</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-.24.."><div class="inner"><span>$..</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-.24a"><div class="inner"><span>$a</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-.24c"><div class="inner"><span>$c</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Ejvm"><div class="inner"><span>-&gt;jvm</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Enumpy"><div class="inner"><span>-&gt;numpy</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-dict"><div class="inner"><span>-&gt;py-dict</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-float"><div class="inner"><span>-&gt;py-float</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-fn"><div class="inner"><span>-&gt;py-fn</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-list"><div class="inner"><span>-&gt;py-list</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-long"><div class="inner"><span>-&gt;py-long</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-string"><div class="inner"><span>-&gt;py-string</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epy-tuple"><div class="inner"><span>-&gt;py-tuple</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epython"><div class="inner"><span>-&gt;python</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var--.3Epython-incref"><div class="inner"><span>-&gt;python-incref</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-a.24"><div class="inner"><span>a$</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-add-module"><div class="inner"><span>add-module</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-afn"><div class="inner"><span>afn</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-args-.3Epos-kw-args"><div class="inner"><span>args-&gt;pos-kw-args</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-as-jvm"><div class="inner"><span>as-jvm</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-as-list"><div class="inner"><span>as-list</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-as-map"><div class="inner"><span>as-map</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-as-numpy"><div class="inner"><span>as-numpy</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-as-python"><div class="inner"><span>as-python</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-as-python-incref"><div class="inner"><span>as-python-incref</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-att-type-map"><div class="inner"><span>att-type-map</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-c.24"><div class="inner"><span>c$</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-call"><div class="inner"><span>call</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-call-attr"><div class="inner"><span>call-attr</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-call-attr-kw"><div class="inner"><span>call-attr-kw</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-call-kw"><div class="inner"><span>call-kw</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-callable.3F"><div class="inner"><span>callable?</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-cfn"><div class="inner"><span>cfn</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-create-bridge-from-att-map"><div class="inner"><span>create-bridge-from-att-map</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-create-class"><div class="inner"><span>create-class</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-dir"><div class="inner"><span>dir</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-equals.3F"><div class="inner"><span>equals?</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-finalize.21"><div class="inner"><span>finalize!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-from-import"><div class="inner"><span>from-import</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-gc.21"><div class="inner"><span>gc!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-get-attr"><div class="inner"><span>get-attr</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-get-item"><div class="inner"><span>get-item</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-has-attr.3F"><div class="inner"><span>has-attr?</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-has-item.3F"><div class="inner"><span>has-item?</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-hash-code"><div class="inner"><span>hash-code</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-import-as"><div class="inner"><span>import-as</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-import-module"><div class="inner"><span>import-module</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-initialize.21"><div class="inner"><span>initialize!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-is-instance.3F"><div class="inner"><span>is-instance?</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-len"><div class="inner"><span>len</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-libpython-clj-module-name"><div class="inner"><span>libpython-clj-module-name</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-make-tuple-fn"><div class="inner"><span>make-tuple-fn</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-make-tuple-instance-fn"><div class="inner"><span>make-tuple-instance-fn</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-module-dict"><div class="inner"><span>module-dict</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-ptr-refcnt"><div class="inner"><span>ptr-refcnt</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-py*"><div class="inner"><span>py*</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-py**"><div class="inner"><span>py**</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-py."><div class="inner"><span>py.</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-py.-"><div class="inner"><span>py.-</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-py.."><div class="inner"><span>py..</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-python-pyerr-fetch-error-handler"><div class="inner"><span>python-pyerr-fetch-error-handler</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-python-type"><div class="inner"><span>python-type</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-run-simple-string"><div class="inner"><span>run-simple-string</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-run-string"><div class="inner"><span>run-string</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-set-attr.21"><div class="inner"><span>set-attr!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-set-attrs.21"><div class="inner"><span>set-attrs!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-set-item.21"><div class="inner"><span>set-item!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-set-items.21"><div class="inner"><span>set-items!</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-stack-resource-context"><div class="inner"><span>stack-resource-context</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-with"><div class="inner"><span>with</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-with-exit-error-handler"><div class="inner"><span>with-exit-error-handler</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-with-gil"><div class="inner"><span>with-gil</span></div></a></li><li class="depth-1"><a href="libpython-clj.python.html#var-with-gil-stack-rc-context"><div class="inner"><span>with-gil-stack-rc-context</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">libpython-clj.python</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-.24."><h3>$.</h3><h4 class="type">macro</h4><div class="usage"><code>($. item attname)</code></div><div class="doc"><div class="markdown"><p>Get the attribute of an object.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L394">view source</a></div></div><div class="public anchor" id="var-.24.."><h3>$..</h3><h4 class="type">macro</h4><div class="usage"><code>($.. item attname &amp; args)</code></div><div class="doc"><div class="markdown"><p>Get the attribute of an object. If there are extra args, apply successive get-attribute calls to the arguments.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L400">view source</a></div></div><div class="public anchor" id="var-.24a"><h3>$a</h3><h4 class="type">macro</h4><div class="usage"><code>($a item attr &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an attribute of an object. Similar calling conventions to afn except: Keywords must be compile time constants. So this won’t work with ‘apply’. On the other hand, building the positional and kw argmaps happens at compile time as opposed to at runtime. The attr name can be a symbol.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L376">view source</a></div></div><div class="public anchor" id="var-.24c"><h3>$c</h3><h4 class="type">macro</h4><div class="usage"><code>($c item &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an object. Similar calling conventions to cfn except: Keywords must be compile time constants. So this won’t work with ‘apply’. On the other hand, building the positional and kw argmaps happens at compile time as opposed to at runtime.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L385">view source</a></div></div><div class="public anchor" id="var--.3Ejvm"><h3>-&gt;jvm</h3><div class="usage"><code>(-&gt;jvm item &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Copy an object into the jvm (if it wasn’t there already.)</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L91">view source</a></div></div><div class="public anchor" id="var--.3Enumpy"><h3>-&gt;numpy</h3><div class="usage"><code>(-&gt;numpy item &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Convert an object to numpy throwing an error if this isn’t possible.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L1120">view source</a></div></div><div class="public anchor" id="var--.3Epy-dict"><h3>-&gt;py-dict</h3><div class="usage"><code>(-&gt;py-dict item)</code></div><div class="doc"><div class="markdown"><p>Create a python dictionary</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L133">view source</a></div></div><div class="public anchor" id="var--.3Epy-float"><h3>-&gt;py-float</h3><div class="usage"><code>(-&gt;py-float item)</code></div><div class="doc"><div class="markdown"><p>Convert an object into a python float</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L283">view source</a></div></div><div class="public anchor" id="var--.3Epy-fn"><h3>-&gt;py-fn</h3><div class="usage"><code>(-&gt;py-fn item)</code></div><div class="doc"><div class="markdown"><p>Make a python function. If clojure function is passed in the arguments are marshalled from python to clojure, the function called, and the return value will be marshalled back.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L154">view source</a></div></div><div class="public anchor" id="var--.3Epy-list"><h3>-&gt;py-list</h3><div class="usage"><code>(-&gt;py-list item)</code></div><div class="doc"><div class="markdown"><p>Create a python list</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L140">view source</a></div></div><div class="public anchor" id="var--.3Epy-long"><h3>-&gt;py-long</h3><div class="usage"><code>(-&gt;py-long item)</code></div><div class="doc"><div class="markdown"><p>Convert an object into a python long</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L275">view source</a></div></div><div class="public anchor" id="var--.3Epy-string"><h3>-&gt;py-string</h3><div class="usage"><code>(-&gt;py-string item)</code></div><div class="doc"><div class="markdown"><p>Copy an object into a python string</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L291">view source</a></div></div><div class="public anchor" id="var--.3Epy-tuple"><h3>-&gt;py-tuple</h3><div class="usage"><code>(-&gt;py-tuple item)</code></div><div class="doc"><div class="markdown"><p>Create a python tuple</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L147">view source</a></div></div><div class="public anchor" id="var--.3Epython"><h3>-&gt;python</h3><div class="usage"><code>(-&gt;python item &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Completely convert a jvm object to a python copy.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L213">view source</a></div></div><div class="public anchor" id="var--.3Epython-incref"><h3>-&gt;python-incref</h3><div class="usage"><code>(-&gt;python-incref item)</code></div><div class="doc"><div class="markdown"><p>Convert to python and add a reference. This is necessary for return values from functions as the -&gt;python pathway adds a reference but it also tracks it and releases it when it is not in use any more. Thus python ends up holding onto something with fewer refcounts than it should have. If you are just messing around in the repl you only need -&gt;python. There is an expectation that the return value of a function call is a new reference and not a borrowed reference hence this pathway.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L470">view source</a></div></div><div class="public anchor" id="var-a.24"><h3>a$</h3><h4 class="type">macro</h4><div class="usage"><code>(a$ item attr &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an attribute of an object. Similar calling conventions to afn except: Keywords must be compile time constants. So this won’t work with ‘apply’. On the other hand, building the positional and kw argmaps happens at compile time as opposed to at runtime. The attr name can be a symbol.</p>
<p>DEPRECATION POSSIBLE - use $a.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L350">view source</a></div></div><div class="public anchor" id="var-add-module"><h3>add-module</h3><div class="usage"><code>(add-module modname)</code></div><div class="doc"><div class="markdown"><p>Add a python module. Returns a bridge</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L214">view source</a></div></div><div class="public anchor" id="var-afn"><h3>afn</h3><div class="usage"><code>(afn item attr &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an attribute of an object. Arguments are passed in positionally. Any keyword arguments are paired with the next arg, gathered, and passed into the system as *kwargs.</p>
<p>Not having an argument after a keyword argument is an error.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L608">view source</a></div></div><div class="public anchor" id="var-args-.3Epos-kw-args"><h3>args-&gt;pos-kw-args</h3><div class="usage"><code>(args-&gt;pos-kw-args arglist)</code></div><div class="doc"><div class="markdown"><p>Utility function that, given a list of arguments, separates them into positional and keyword arguments. Throws an exception if the keyword argument is not followed by any more arguments.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L553">view source</a></div></div><div class="public anchor" id="var-as-jvm"><h3>as-jvm</h3><div class="usage"><code>(as-jvm item &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Bridge a python object into the jvm. Attempts to build a jvm bridge that ‘hides’ the python type. This bridge is lazy and noncaching so use it wisely; it may be better to just copy the type once into the JVM. Bridging is recursive so any subtypes are also bridged if possible or represented by a hashmap of {:type :value} if not.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L105">view source</a></div></div><div class="public anchor" id="var-as-list"><h3>as-list</h3><div class="usage"><code>(as-list item)</code></div><div class="doc"><div class="markdown"><p>Return a List implementation using <strong>getitem</strong>, <strong>setitem</strong>.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-as-map"><h3>as-map</h3><div class="usage"><code>(as-map item)</code></div><div class="doc"><div class="markdown"><p>Return a Map implementation using <strong>getitem</strong>, <strong>setitem</strong>. Note that it may be incomplete especially if the object has no ‘keys’ attribute.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-as-numpy"><h3>as-numpy</h3><div class="usage"><code>(as-numpy item &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Bridge an object into numpy sharing the backing store. If it is not possible to do this without copying data then return nil.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L1126">view source</a></div></div><div class="public anchor" id="var-as-python"><h3>as-python</h3><div class="usage"><code>(as-python item &amp; [options])</code></div><div class="doc"><div class="markdown"><p>Bridge a jvm object into python</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L118">view source</a></div></div><div class="public anchor" id="var-as-python-incref"><h3>as-python-incref</h3><div class="usage"><code>(as-python-incref item)</code></div><div class="doc"><div class="markdown"><p>Convert to python and add a reference. Necessary for return values from functions as python expects a new reference and the as-python pathway ensures the jvm garbage collector also sees the reference.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L727">view source</a></div></div><div class="public anchor" id="var-att-type-map"><h3>att-type-map</h3><div class="usage"><code>(att-type-map item)</code></div><div class="doc"><div class="markdown"><p>Get hashmap of att name to keyword datatype.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-c.24"><h3>c$</h3><h4 class="type">macro</h4><div class="usage"><code>(c$ item &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an object. Similar calling conventions to cfn except: Keywords must be compile time constants. So this won’t work with ‘apply’. On the other hand, building the positional and kw argmaps happens at compile time as opposed to at runtime.</p>
<p>DEPRECATION POSSIBLE - use $c.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L363">view source</a></div></div><div class="public anchor" id="var-call"><h3>call</h3><div class="usage"><code>(call callable &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call a python function with positional args. For keyword args, see call-kw.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/protocols.clj#L109">view source</a></div></div><div class="public anchor" id="var-call-attr"><h3>call-attr</h3><div class="usage"><code>(call-attr item att-name &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an object attribute with positional arguments.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/protocols.clj#L120">view source</a></div></div><div class="public anchor" id="var-call-attr-kw"><h3>call-attr-kw</h3><div class="usage"><code>(call-attr-kw item att-name arglist kw-map)</code></div><div class="doc"><div class="markdown"><p>Call an object attribute with a vector of positional args and a map of keyword args.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/protocols.clj#L127">view source</a></div></div><div class="public anchor" id="var-call-kw"><h3>call-kw</h3><div class="usage"><code>(call-kw callable arglist kw-args)</code></div><div class="doc"><div class="markdown"><p>Call a python function with a vector of positional args and a map of keyword args.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/protocols.clj#L115">view source</a></div></div><div class="public anchor" id="var-callable.3F"><h3>callable?</h3><div class="usage"><code>(callable? item)</code></div><div class="doc"><div class="markdown"><p>Return true if object is a python callable object.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-cfn"><h3>cfn</h3><div class="usage"><code>(cfn item &amp; args)</code></div><div class="doc"><div class="markdown"><p>Call an object. Arguments are passed in positionally. Any keyword arguments are paired with the next arg, gathered, and passed into the system as *kwargs.</p>
<p>Not having an argument after a keyword argument is an error.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/bridge.clj#L583">view source</a></div></div><div class="public anchor" id="var-create-bridge-from-att-map"><h3>create-bridge-from-att-map</h3><div class="usage"><code>(create-bridge-from-att-map src-item att-map)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/interop.clj#L377">view source</a></div></div><div class="public anchor" id="var-create-class"><h3>create-class</h3><div class="usage"><code>(create-class name bases cls-hashmap)</code></div><div class="doc"><div class="markdown"><p>Create a new class object. Any callable values in the cls-hashmap will be presented as instance methods. Things in the cls hashmap had better be either atoms or already converted python objects. You may get surprised otherwise; you have been warned. See the classes-test file in test/libpython-clj</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L573">view source</a></div></div><div class="public anchor" id="var-dir"><h3>dir</h3><div class="usage"><code>(dir item)</code></div><div class="doc"><div class="markdown"><p>Get sorted list of all attribute names.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-equals.3F"><h3>equals?</h3><div class="usage"><code>(equals? lhs rhs)</code></div><div class="doc"><div class="markdown"><p>Returns true of the python equals operator returns 1.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L1127">view source</a></div></div><div class="public anchor" id="var-finalize.21"><h3>finalize!</h3><div class="usage"><code>(finalize!)</code></div><div class="doc"><div class="markdown"><p>Finalize the interpreter. You probably shouldn’t call this as it destroys the global interpreter and reinitialization is unsupported cpython.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L262">view source</a></div></div><div class="public anchor" id="var-from-import"><h3>from-import</h3><h4 class="type">macro</h4><div class="usage"><code>(from-import module-path item &amp; args)</code></div><div class="doc"><div class="markdown"><p>Support for the from a import b,c style of importing modules and symbols in python. Documentation is included.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L419">view source</a></div></div><div class="public anchor" id="var-gc.21"><h3>gc!</h3><div class="usage"><code>(gc!)</code></div><div class="doc"><div class="markdown"><p>Run the system garbage collection facility and then call the cooperative ‘cleanup python objects’ queue</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L340">view source</a></div></div><div class="public anchor" id="var-get-attr"><h3>get-attr</h3><div class="usage"><code>(get-attr item item-name)</code></div><div class="doc"><div class="markdown"><p>Get attribute from object</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-get-item"><h3>get-item</h3><div class="usage"><code>(get-item item item-name)</code></div><div class="doc"><div class="markdown"><p>Get an item of a given name from an object</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-has-attr.3F"><h3>has-attr?</h3><div class="usage"><code>(has-attr? item item-name)</code></div><div class="doc"><div class="markdown"><p>Return true of object has attribute</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-has-item.3F"><h3>has-item?</h3><div class="usage"><code>(has-item? item item-name)</code></div><div class="doc"><div class="markdown"><p>Return true of object has item</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-hash-code"><h3>hash-code</h3><div class="usage"><code>(hash-code py-inst)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L1121">view source</a></div></div><div class="public anchor" id="var-import-as"><h3>import-as</h3><h4 class="type">macro</h4><div class="usage"><code>(import-as module-path varname)</code></div><div class="doc"><div class="markdown"><p>Import a module and assign it to a var. Documentation is included.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L410">view source</a></div></div><div class="public anchor" id="var-import-module"><h3>import-module</h3><div class="usage"><code>(import-module modname)</code></div><div class="doc"><div class="markdown"><p>Import a python module. Returns a bridge</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L207">view source</a></div></div><div class="public anchor" id="var-initialize.21"><h3>initialize!</h3><div class="usage"><code>(initialize! &amp; {:keys [program-name library-path python-home no-io-redirect? python-executable windows-anaconda-activate-bat]})</code></div><div class="doc"><div class="markdown"><p>Initialize the python library. If library path is provided, then the python :library-path Library path of the python library to use. :program-name - optional but will show up in error messages from python. :no-io-redirect - there if you don’t want python stdout and stderr redirection  to <em>out</em> and <em>err</em>.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L228">view source</a></div></div><div class="public anchor" id="var-is-instance.3F"><h3>is-instance?</h3><div class="usage"><code>(is-instance? py-inst py-type)</code></div><div class="doc"><div class="markdown"><p>Returns true if inst is an instance of type. False otherwise.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L1111">view source</a></div></div><div class="public anchor" id="var-len"><h3>len</h3><div class="usage"><code>(len item)</code></div><div class="doc"><div class="markdown"><p>Call the <strong>len</strong> attribute.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-libpython-clj-module-name"><h3>libpython-clj-module-name</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Module name of the libpython-clj python model. Used to find binding-level objects such as the type used for actual jvm bridging objects.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/interop.clj#L69">view source</a></div></div><div class="public anchor" id="var-make-tuple-fn"><h3>make-tuple-fn</h3><div class="usage"><code>(make-tuple-fn fn-obj &amp; {:keys [arg-converter result-converter], :or {arg-converter -&gt;jvm, result-converter -&gt;python-incref}, :as options})</code></div><div class="doc"><div class="markdown"><p>Given a clojure function, create a python tuple function. arg-convert is applied to arguments before the clojure function gets them and result-converter is applied to the outbound result. Exceptions are caught, logged, and propagated to python.</p>
<p>arg-converter: A function to be called on arguments before they get to  clojure. Defaults to -&gt;jvm. result-converter: A function to be called on the return value before it  makes it back to python. Defaults to -&gt;python-incref. method-name: Name of function exposed to python. documentation: Documentation of function exposed to python.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L484">view source</a></div></div><div class="public anchor" id="var-make-tuple-instance-fn"><h3>make-tuple-instance-fn</h3><div class="usage"><code>(make-tuple-instance-fn clj-fn &amp; {:keys [arg-converter], :as options})</code></div><div class="doc"><div class="markdown"><p>Make an instance function. In this case the default behavior is to pass raw python object ptr args to the clojure function without marshalling as that can add confusion and unnecessary overhead. Self will be the first argument. Callers can change this behavior by setting the ‘arg-converter’ option as in ‘make-tuple-fn’. Options are the same as make-tuple-fn.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/object.clj#L553">view source</a></div></div><div class="public anchor" id="var-module-dict"><h3>module-dict</h3><div class="usage"><code>(module-dict module)</code></div><div class="doc"><div class="markdown"><p>Get the module dictionary. Returns bridge.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L221">view source</a></div></div><div class="public anchor" id="var-ptr-refcnt"><h3>ptr-refcnt</h3><div class="usage"><code>(ptr-refcnt item)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L255">view source</a></div></div><div class="public anchor" id="var-py*"><h3>py*</h3><h4 class="type">macro</h4><div class="usage"><code>(py* x method args)</code><code>(py* x method args kwargs)</code></div><div class="doc"><div class="markdown"><p>Special syntax for passing along *args and **kwargs style arguments to methods.</p>
<p>Usage:</p>
<p>(py* obj method args kwargs)</p>
<p>Example:</p>
<p>(def d (python/dict)) d ;;=&gt; {} (def iterable <a href="null">:a 1] [:b 2</a>) (def kwargs {:cat “dog” :name “taco”}) (py* d update [iterable] kwargs) d ;;=&gt; {“a”: 1, “b”: 2, “cat”: “dog”, “name”: “taco”}</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L446">view source</a></div></div><div class="public anchor" id="var-py**"><h3>py**</h3><h4 class="type">macro</h4><div class="usage"><code>(py** x method kwargs)</code><code>(py** x method arg &amp; args)</code></div><div class="doc"><div class="markdown"><p>Like py*, but it is assumed that the LAST argument is kwargs.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L467">view source</a></div></div><div class="public anchor" id="var-py."><h3>py.</h3><h4 class="type">macro</h4><div class="usage"><code>(py. x &amp; args)</code></div><div class="doc"><div class="markdown"><p>Class/object method syntax. (py. obj method arg1 arg2 … argN) is equivalent to Python’s obj.method(arg1, arg2, …, argN) syntax.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L440">view source</a></div></div><div class="public anchor" id="var-py.-"><h3>py.-</h3><h4 class="type">macro</h4><div class="usage"><code>(py.- x arg)</code></div><div class="doc"><div class="markdown"><p>Class/object getter syntax. (py.- obj attr) is equivalent to Python’s obj.attr syntax.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L433">view source</a></div></div><div class="public anchor" id="var-py.."><h3>py..</h3><h4 class="type">macro</h4><div class="usage"><code>(py.. x &amp; args)</code></div><div class="doc"><div class="markdown"><p>Extended accessor notation, similar to the <code>..</code> macro in Clojure.</p>
<p>(require-python ’sys) (py.. sys -path (append “/home/user/bin”))</p>
<p>is equivalent to Python’s</p>
<p>import sys sys.path.append(‘/home/user/bin’)</p>
<p>SPECIAL SYNTAX for programmatic *args and **kwargs</p>
<p>Special syntax is provided to meet the needs required by Python’s *args and **kwargs syntax programmatically.</p>
<p>(= (py.. obj (*method args))  (py* obj methods args))</p>
<p>(= (py.. obj (*methods args kwargs))  (py* obj method args kwargs))</p>
<p>(= (py.. obj (**method kwargs))  (py** obj kwargs))</p>
<p>(= (py.. obj (**method arg1 arg2 arg3 … argN kwargs))  (py** obj method arg1 arg2 arg3 … argN kwargs)  (py* obj method [arg1 arg2 arg3 … argN] kwargs))</p>
<p>These forms exist for when you need to pass in a map of options in the same way you would use the f(*args, **kwargs) forms in Python.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L502">view source</a></div></div><div class="public anchor" id="var-python-pyerr-fetch-error-handler"><h3>python-pyerr-fetch-error-handler</h3><div class="usage"><code>(python-pyerr-fetch-error-handler)</code></div><div class="doc"><div class="markdown"><p>Utility code used in with macro</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L269">view source</a></div></div><div class="public anchor" id="var-python-type"><h3>python-type</h3><div class="usage"><code>(python-type item)</code></div><div class="doc"><div class="markdown"><p>Return a keyword that describes the python datatype of this object.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python/protocols.clj#L26">view source</a></div></div><div class="public anchor" id="var-run-simple-string"><h3>run-simple-string</h3><div class="usage"><code>(run-simple-string program &amp; {:keys [globals locals]})</code></div><div class="doc"><div class="markdown"><p>Run a string expression returning a map of {:globals :locals}. This uses the global <strong>main</strong> dict under the covers so it matches the behavior of the cpython implementation with the exception of returning the various maps used.</p>
<p>Note this will never return the result of the expression: <a href="https://mail.python.org/pipermail/python-list/1999-April/018011.html">https://mail.python.org/pipermail/python-list/1999-April/018011.html</a></p>
<p>Globals, locals may be provided but are not necessary.</p>
<p>Implemented in cpython as:</p>
<p>PyObject *m, *d, *v;  m = PyImport_AddModule(“<strong>main</strong>”);  if (m == NULL)  return -1;  d = PyModule_GetDict(m);  v = PyRun_StringFlags(command, Py_file_input, d, d, flags);  if (v == NULL) {  PyErr_Print();  return -1;  }  Py_DECREF(v);  return 0;</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L163">view source</a></div></div><div class="public anchor" id="var-run-string"><h3>run-string</h3><div class="usage"><code>(run-string program &amp; {:keys [globals locals]})</code></div><div class="doc"><div class="markdown"><p>Wrapper around the python c runtime PyRun_String method. This requires you to understand what needs to be in the globals and locals dict in order for everything to work out right and for this reason we recommend run-simple-string.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L196">view source</a></div></div><div class="public anchor" id="var-set-attr.21"><h3>set-attr!</h3><div class="usage"><code>(set-attr! item item-name item-value)</code></div><div class="doc"><div class="markdown"><p>Set attribute on object</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-set-attrs.21"><h3>set-attrs!</h3><div class="usage"><code>(set-attrs! item att-seq)</code></div><div class="doc"><div class="markdown"><p>Set a sequence of [name value] attributes. Returns item</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L97">view source</a></div></div><div class="public anchor" id="var-set-item.21"><h3>set-item!</h3><div class="usage"><code>(set-item! item item-name item-value)</code></div><div class="doc"><div class="markdown"><p>Set an item of to a value</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L25">view source</a></div></div><div class="public anchor" id="var-set-items.21"><h3>set-items!</h3><div class="usage"><code>(set-items! item item-seq)</code></div><div class="doc"><div class="markdown"><p>Set a sequence of [name value]. Returns item</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L107">view source</a></div></div><div class="public anchor" id="var-stack-resource-context"><h3>stack-resource-context</h3><h4 class="type">macro</h4><div class="usage"><code>(stack-resource-context &amp; body)</code></div><div class="doc"><div class="markdown"><p>Create a stack-based resource context. All python objects allocated within this context will be released at the termination of this context. !!This means that no python objects can escape from this context!! You must use copy semantics (-&gt;jvm) for anything escaping this context. Furthermore, if you are returning generic python objects you may need to call (into {}) or something like that just to ensure that absolutely everything is copied into the jvm.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L61">view source</a></div></div><div class="public anchor" id="var-with"><h3>with</h3><h4 class="type">macro</h4><div class="usage"><code>(with bind-vec &amp; body)</code></div><div class="doc"><div class="markdown"><p>Support for the ‘with’ statement in python: (py/with [item (py/call-attr testcode-module “WithObjClass” true fn-list)]  (py/call-attr item “doit_err”))</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L316">view source</a></div></div><div class="public anchor" id="var-with-exit-error-handler"><h3>with-exit-error-handler</h3><div class="usage"><code>(with-exit-error-handler with-var error)</code></div><div class="doc"><div class="markdown"><p>Utility code used in with macro</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L289">view source</a></div></div><div class="public anchor" id="var-with-gil"><h3>with-gil</h3><h4 class="type">macro</h4><div class="usage"><code>(with-gil &amp; body)</code></div><div class="doc"><div class="markdown"><p>Capture the gil for an extended amount of time. This can greatly speed up operations as the mutex is captured and held once as opposed to find grained grabbing/releasing of the mutex.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L74">view source</a></div></div><div class="public anchor" id="var-with-gil-stack-rc-context"><h3>with-gil-stack-rc-context</h3><h4 class="type">macro</h4><div class="usage"><code>(with-gil-stack-rc-context &amp; body)</code></div><div class="doc"><div class="markdown"><p>Capture the gil, open a resource context. The resource context is released before the gil is leading to much faster resource collection. See documentation on <code>stack-resource-context</code> for multiple warnings; the most important one being that if a python object escapes this context your program will eventually, at some undefined point in the future crash. That being said, this is the recommended pathway to use in production contexts where you want defined behavior and timings related to use of python.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj/python.clj#L83">view source</a></div></div></div></body></html>