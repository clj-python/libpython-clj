<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>libpython-clj2.require documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version">2.002</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="Usage.html"><div class="inner"><span>Usage</span></div></a></li><li class="depth-1 "><a href="design.html"><div class="inner"><span>LibPython-CLJ Design Notes</span></div></a></li><li class="depth-1 "><a href="embedded.html"><div class="inner"><span>Embedding Clojure In Python</span></div></a></li><li class="depth-1 "><a href="environments.html"><div class="inner"><span>Python Environments</span></div></a></li><li class="depth-1 "><a href="new-to-clojure.html"><div class="inner"><span>So Many Parenthesis!</span></div></a></li><li class="depth-1 "><a href="scopes-and-gc.html"><div class="inner"><span>Scopes And Garbage Collection</span></div></a></li><li class="depth-1 "><a href="slicing.html"><div class="inner"><span>Slicing And Slices</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>libpython-clj2</span></div></div></li><li class="depth-2 branch"><a href="libpython-clj2.codegen.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>codegen</span></div></a></li><li class="depth-2 branch"><a href="libpython-clj2.embedded.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>embedded</span></div></a></li><li class="depth-2"><a href="libpython-clj2.python.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>python</span></div></a></li><li class="depth-3"><a href="libpython-clj2.python.np-array.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>np-array</span></div></a></li><li class="depth-2 current"><a href="libpython-clj2.require.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>require</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="libpython-clj2.require.html#var-import-python"><div class="inner"><span>import-python</span></div></a></li><li class="depth-1"><a href="libpython-clj2.require.html#var-require-python"><div class="inner"><span>require-python</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">libpython-clj2.require</h1><div class="doc"><div class="markdown"><p>Namespace implementing requiring python modules as Clojure namespaces. This works via scanning the module for metadata and dynamically building the Clojure namespace.</p></div></div><div class="public anchor" id="var-import-python"><h3>import-python</h3><div class="usage"><code>(import-python)</code></div><div class="doc"><div class="markdown"><p>Loads python, python.list, python.dict, python.set, python.tuple, and python.frozenset.</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj2/require.clj#L284">view source</a></div></div><div class="public anchor" id="var-require-python"><h3>require-python</h3><div class="usage"><code>(require-python req)</code><code>(require-python req &amp; reqs)</code></div><div class="doc"><div class="markdown"><h2><a href="#basic-usage" name="basic-usage"></a>Basic usage</h2>
<p>(require-python ’math) (math/sin 1.0) ;;=&gt; 0.8414709848078965</p>
<p>(require-python ’[math :as maaaath])</p>
<p>(maaaath/sin 1.0) ;;=&gt; 0.8414709848078965</p>
<p>(require-python ‘math ‘csv) (require-python ’[math :as pymath] ‘csv)) (require-python ’[math :as pymath] ’[csv :as py-csv]) (require-python ‘concurrent.futures) (require-python ’[concurrent.futures :as fs]) (require-python ’(concurrent [futures :as fs]))</p>
<p>(require-python ’[requests :refer [get post]])</p>
<p>(requests/get “https//www.google.com”) ;;=&gt; &lt;Response [200]&gt; (get “https//www.google.com”) ;;=&gt; &lt;Response [200]&gt;</p>
<p>In some cases we may generate invalid arglists metadata for the clojure compiler. In those cases we have a flag, :no-arglists that will disable adding arglists to the generated metadata for the vars. Use the reload flag below if you need to force reload a namespace where invalid arglists have been generated.</p>
<p>(require-python ’[numpy :refer [linspace] :no-arglists :as np])</p>
<p>If you would like to bind the Python module to the namespace, use the :bind-ns flag.</p>
<p>(require-python ‘[requests :bind-ns true]) or (require-python ’[requests :bind-ns])</p>
<h2><a href="#use-with-custom-modules" name="use-with-custom-modules"></a>Use with custom modules</h2>
<p>For use with a custom namespace foo.py while developing, you can use:</p>
<p>(require-python ’[foo :reload])</p>
<p>NOTE: unless you specify the :reload flag,  ..: the module will NOT reload. If the :reload flag is set,  ..: the behavior mimics importlib.reload</p>
<h2><a href="#setting-up-classpath-for-custom-modules" name="setting-up-classpath-for-custom-modules"></a>Setting up classpath for custom modules</h2>
<p>Note: you may need to setup your PYTHONPATH correctly. One technique to do this is, if your foo.py lives at /path/to/foodir/foo.py:</p>
<p>(require-python ’sys) (py/call-attr (py/get-attr sys “path”)  “append”  “/path/to/foodir”)</p>
<p>Another option is</p>
<p>(require-python ’os) (os/chdir “/path/to/foodir”)</p>
<h2><a href="#prefix-lists" name="prefix-lists"></a>prefix lists</h2>
<p>For convenience, if you are loading multiple Python modules with the same prefix, you can use the following notation:</p>
<p>(require-python ’(a b c)) is equivalent to (require-python ’a.b ’a.c)</p>
<p>(require-python ‘(foo [bar :as baz :refer [qux]])) is equivalent to (require-python ’[foo.bar :as baz :refer [qux]])</p>
<p>(require-python ‘(foo [bar :as baz :refer [qux]] buster)) (require-python ’[foo.bar :as baz :refer [qux]] ’foo.buster))</p>
<h2><a href="#for-library-developers" name="for-library-developers"></a>For library developers</h2>
<p>If you want to intern all symbols to your current namespace, you can do the following –</p>
<p>(require-python ’[math :refer :all])</p>
<p>However, if you only want to use those things designated by the module under the <strong>all</strong> attribute, you can do</p>
<p>(require-python ’[operators :refer :*])</p></div></div><div class="src-link"><a href="https://github.com/clj-python/libpython-clj/blob/master/src/libpython_clj2/require.clj#L173">view source</a></div></div></div></body></html>